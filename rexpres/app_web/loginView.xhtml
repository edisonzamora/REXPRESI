<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rpx="http://java.sun.com/jsf/composite/componentes"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<title>#{app.TITULO_APP}</title>
	<h:outputStylesheet name="loginstyle.css" library="css" />
	<h:outputScript name="rexpress.js" library="js" />
	<script type="text/javascript" src="../resources/js/common.js" />
<style type="text/css">
.ui-panelgrid{
     margin: 0 auto;
	width: 300px;
	text-align: center;
}
</style>
</h:head>
<h:panelGrid columns="1" styleClass="panel" id="logingrid">
	<f:view locale="#{configapp.idiomaDefecto}">
	#{msg.version_idioma}
	
		<!-- <rpx:lineaComponet /> -->
		<!--<form action="/rexpres/appLogin" method="post">
			UserName:	<input type="text" name="username"/><br/><br/>
			Password: <input type="password" name="password"/> <br/><br/>			
			<input type="submit" value="Login"/>
			<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>			
		</form> -->
		
		<h:form id="rex"
			onsubmit="this.action='#{request.contextPath}/appLogin';">

			<p:panelGrid columns="1" styleClass="ui-fluid center ui-noborder">
				<h2>#{msg.label_login_titulo}</h2>
				<!-- <p:outputLabel value="Login failed!" styleClass="red"
					rendered="${!empty param['error']}" /> -->
				 ${SPRING_SECURITY_LAST_EXCEPTION.message}
				<p:inputText id="username" placeholder="#{msg.label_login_nombre}" />
				<p:password id="password" placeholder="#{msg.label_login_password}" />
				<p:commandButton value="#{msg.label_login_btn}" ajax="false" />
			</p:panelGrid>

		</h:form>

		<h:form id="form_Login_combo">
			<p:selectOneMenu id="selectIdiomas" value="#{loginbean.idioma}"
				style="width:60px" label="Seleccionar idiooma">
				<f:selectItems value="#{loginbean.idiomas}" />
				<p:ajax event="itemSelect" update=":logingrid"
					process="selectIdiomas" />
			</p:selectOneMenu>
		</h:form>
	</f:view>
</h:panelGrid>
</html>